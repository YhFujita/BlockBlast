<script>
    // Stage Definitions (0 = wall, 1 = target area)
    const STAGES = {
        1: {
            title: "すてーじ 1",
            grid: [
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 1, 1, 1, 1, 0, 0],
                [0, 0, 1, 1, 1, 1, 0, 0],
                [0, 0, 1, 1, 1, 1, 0, 0],
                [0, 0, 1, 1, 1, 1, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0]
            ],
            blocks: ['square', 'square', 'square', 'square']
        },
        2: {
            title: "すてーじ 2",
            grid: [
                [0, 0, 0, 1, 1, 0, 0, 0],
                [0, 0, 0, 1, 1, 0, 0, 0],
                [0, 0, 0, 1, 1, 0, 0, 0],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [0, 0, 0, 1, 1, 0, 0, 0],
                [0, 0, 0, 1, 1, 0, 0, 0],
                [0, 0, 0, 1, 1, 0, 0, 0]
            ],
            blocks: ['v3', 'v3', 'v3', 'v3', 'h4', 'h4', 'h4', 'h4']
        },
        3: {
            title: "すてーじ 3",
            grid: [
                [1, 1, 1, 0, 0, 0, 0, 0],
                [1, 1, 1, 0, 0, 0, 0, 0],
                [0, 0, 1, 1, 1, 0, 0, 0],
                [0, 0, 1, 1, 1, 0, 0, 0],
                [0, 0, 0, 0, 0, 1, 1, 1],
                [1, 1, 1, 0, 0, 1, 1, 1],
                [0, 1, 1, 0, 0, 0, 0, 0],
                [0, 1, 1, 1, 0, 0, 0, 0]
            ],
            blocks: ['l_br', 'l_tl', 'l_bl', 'l_tr', 'v2', 'square', 't_down', 't_up']
        },
        4: {
            title: "すてーじ 4",
            grid: [
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [0, 0, 0, 0, 0, 0, 0, 0],
                [1, 1, 0, 0, 0, 0, 1, 1],
                [1, 1, 0, 0, 0, 0, 1, 1]
            ],
            blocks: ['l_tr', 'l_tl', 'l_br', 'l_bl', 'square', 'square']
        },
        5: {
            title: "すてーじ 5",
            grid: [
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 1, 1, 0, 0, 1, 1, 0],
                [0, 1, 1, 0, 0, 1, 1, 0],
                [0, 0, 0, 0, 0, 0, 0, 0],
                [1, 0, 0, 0, 0, 0, 0, 1],
                [1, 1, 0, 0, 0, 0, 1, 1],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [0, 0, 1, 1, 1, 1, 0, 0]
            ],
            blocks: ['square', 'square', 'v2', 'v2', 'v2', 'v2', 'h4', 'h4', 'square', 'square']
        },
        6: {
            title: "すてーじ 6",
            grid: [
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 0, 0, 0, 0, 1, 1],
                [1, 0, 0, 0, 0, 0, 0, 1],
                [1, 0, 0, 0, 0, 0, 0, 1],
                [1, 0, 0, 0, 0, 0, 0, 1],
                [1, 0, 0, 0, 0, 0, 0, 1],
                [1, 1, 0, 0, 0, 0, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1]
            ],
            blocks: ['square', 'single', 'l_bl', 'single', 'h2', 'single', 'square', 'h4', 'h4', 'v4', 'v4']
        },
        7: {
            title: "すてーじ 7",
            grid: [
                [1, 1, 0, 0, 0, 0, 0, 0],
                [1, 1, 1, 1, 0, 0, 0, 0],
                [0, 0, 1, 1, 1, 1, 0, 0],
                [0, 0, 0, 0, 1, 1, 1, 1],
                [0, 0, 0, 0, 0, 0, 1, 1],
                [0, 0, 0, 0, 0, 0, 1, 1],
                [0, 0, 0, 0, 0, 0, 1, 1],
                [0, 0, 0, 0, 0, 0, 1, 1]
            ],
            blocks: ['square', 'h4', 'h2', 'h2', 'h2', 'v4', 'v4']
        },
        8: {
            title: "すてーじ 8",
            grid: [
                [0, 0, 0, 1, 1, 0, 0, 0],
                [0, 0, 1, 1, 1, 1, 0, 0],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [0, 0, 1, 1, 1, 1, 0, 0],
                [0, 0, 0, 1, 1, 0, 0, 0]
            ],
            blocks: ['square', 'square', 'square', 'square', 'v4', 'v4', 'v2', 'v2', 'l_bl', 'l_br', 'l_tl', 'l_tr']
        },
        9: {
            title: "すてーじ 9",
            grid: [
                [1, 1, 1, 1, 1, 1, 0, 0],
                [0, 0, 0, 0, 0, 1, 1, 0],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [0, 1, 1, 0, 0, 0, 0, 0],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [0, 0, 0, 0, 0, 1, 1, 0],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [0, 1, 1, 1, 1, 1, 1, 0]
            ],
            blocks: ['square', 'square', 'square', 'h4', 'h4', 'h4', 'h4', 'h4', 'h2', 'h2']
        },
        10: {
            title: "すてーじ 10",
            grid: [
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 0, 0, 1, 1, 0, 0, 1],
                [1, 0, 0, 1, 1, 0, 0, 1],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 0, 0, 1, 1, 0, 0, 1],
                [1, 0, 0, 1, 1, 0, 0, 1],
                [1, 1, 1, 1, 1, 1, 1, 1]
            ],
            blocks: ['l_tl', 'l_tr', 'l_bl', 'l_br', 'l_tl', 'l_tr', 'l_bl', 'l_br', 'l_tl', 'l_tr', 'l_bl', 'l_br', 'l_tl', 'l_tr', 'l_bl', 'l_br']
        },
        11: {
            title: "すてーじ 11",
            grid: [
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 1, 1, 1, 0, 1, 1, 1],
                [0, 1, 0, 1, 0, 1, 0, 1],
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 1, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 1, 1, 1, 0, 0],
                [0, 0, 0, 0, 1, 0, 0, 0]
            ],
            blocks: ['t_down', 'l_tr', 'l_tl', 'v2', 'v2', 'single']
        },
        12: {
            title: "すてーじ 12",
            grid: [
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1]
            ],
            blocks: ['h4', 't_down', 'square', 'v4', 't_right', 'single', 'v3', 'v2', 'square', 'l_br', 'single', 'l_bl', 'v4', 'h4', 'v2', 'square', 'v4', 'single', 'v3', 'v4', 'single']
        },
        13: {
            title: "すてーじ 13",
            grid: [
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 1, 1, 1, 1, 1, 0, 0],
                [0, 1, 1, 1, 1, 1, 0, 0],
                [0, 1, 1, 1, 1, 1, 0, 0],
                [0, 1, 1, 1, 1, 1, 0, 0],
                [0, 1, 1, 1, 1, 1, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0]
            ],
            blocks: ['v4', 'h4', 'single', 'v4', 'h2', 'single', 'v3', 'v3', 'v3']
        },
        14: {
            title: "すてーじ 14",
            grid: [
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1]
            ],
            blocks: ['h3', 'h4', 'single', 'v4', 'h4', 'l_bl', 't_up', 'h2', 'h2', 'h2', 'single', 'h4', 'v2', 'square']
        },
        15: {
            title: "すてーじ 15",
            grid: [
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [0, 1, 0, 0, 0, 0, 1, 0],
                [0, 1, 0, 0, 0, 0, 1, 0],
                [0, 1, 1, 0, 0, 1, 1, 0],
                [0, 1, 1, 0, 0, 1, 1, 0],
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0]
            ],
            blocks: ['square', 'v3', 'v3', 'square', 'single', 'h3']
        },
        16: {
            title: "すてーじ 16",
            grid: [
                [0, 0, 0, 0, 0, 0, 0, 0],
                [0, 1, 1, 1, 0, 1, 1, 0],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [0, 0, 1, 1, 1, 0, 0, 0],
                [0, 0, 0, 1, 0, 0, 0, 0]
            ],
            blocks: ['v3', 'h4', 'h3', 'single', 'v2', 'h2', 'l_tl', 'v3', 'single', 'v3', 'v2', 'v2', 'h3', 'single']
        },
        17: {
            title: "すてーじ 17",
            grid: [
                [0, 1, 1, 1, 1, 0, 0, 0],
                [0, 1, 0, 0, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 0, 0, 1],
                [1, 0, 1, 1, 1, 0, 0, 1],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [0, 1, 0, 1, 0, 0, 1, 0],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [0, 0, 0, 0, 0, 0, 0, 0]
            ],
            blocks: ['single', 'l_tl', 'v3', 'single', 'single', 'v3', 'h3', 'v2', 'h2', 'h3', 'single', 'h2', 'l_tr', 'h3', 'v2', 'single', 'v3']
        },
        18: {
            title: "すてーじ 18",
            grid: [
                [0, 1, 0, 0, 0, 0, 1, 0],
                [1, 1, 0, 0, 0, 0, 1, 1],
                [0, 0, 1, 1, 1, 1, 0, 0],
                [0, 0, 1, 0, 0, 1, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0],
                [1, 1, 1, 1, 1, 1, 1, 1],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [0, 0, 0, 1, 1, 0, 0, 0]
            ],
            blocks: ['l_bl', 'l_br', 'l_tl', 'l_tr', 'h4', 'h3', 'h3', 'h2', 'h4']
        },
        19: {
            title: "すてーじ 19",
            grid: [
                [0, 0, 1, 0, 1, 0, 1, 0],
                [0, 1, 1, 1, 1, 1, 1, 0],
                [1, 1, 1, 0, 1, 0, 1, 0],
                [0, 1, 1, 0, 1, 1, 1, 0],
                [0, 0, 0, 0, 1, 0, 1, 0],
                [1, 1, 1, 0, 0, 0, 1, 0],
                [0, 1, 0, 1, 1, 0, 1, 0],
                [0, 0, 0, 1, 1, 0, 1, 0]
            ],
            blocks: ['t_left', 't_right', 't_down', 't_up', 'v4', 'v4', 'square', 'v4']
        },
        20: {
            title: "すてーじ 20",
            grid: [
                [1, 1, 1, 0, 0, 0, 0, 0],
                [0, 1, 1, 1, 0, 0, 0, 0],
                [0, 0, 1, 1, 1, 0, 0, 0],
                [0, 0, 0, 1, 1, 1, 0, 0],
                [0, 0, 0, 0, 1, 1, 1, 0],
                [0, 0, 0, 0, 0, 1, 1, 1],
                [0, 0, 0, 0, 0, 0, 1, 1],
                [0, 0, 0, 0, 0, 0, 0, 1]
            ],
            blocks: ['h3', 'h3', 'h3', 'h3', 'h3', 'h3', 'l_tl']
        },
        21: {
            title: "すてーじ 21",
            grid: [
                [1, 1, 1, 1, 1, 0, 0, 0],
                [1, 0, 1, 0, 1, 0, 0, 0],
                [1, 0, 1, 1, 1, 0, 0, 0],
                [1, 0, 1, 1, 1, 0, 0, 0],
                [1, 0, 1, 1, 1, 0, 0, 0],
                [1, 0, 1, 0, 1, 0, 0, 0],
                [1, 0, 1, 0, 1, 0, 0, 0],
                [1, 1, 1, 1, 1, 0, 0, 0]
            ],
            blocks: ['v3', 'v3', 'v2', 'v4', 'v4', 'h3', 'h3', 'v3', 'v4', 'v2']
        },
        22: {
            title: "すてーじ 22",
            grid: [
                [0, 0, 1, 1, 0, 0, 0, 0],
                [0, 0, 1, 1, 0, 0, 0, 0],
                [0, 0, 1, 1, 0, 0, 0, 0],
                [0, 0, 0, 1, 1, 0, 0, 0],
                [0, 0, 0, 1, 1, 0, 0, 0],
                [0, 0, 1, 1, 1, 1, 1, 0],
                [0, 0, 1, 1, 1, 1, 1, 0],
                [0, 0, 1, 1, 1, 1, 1, 0]
            ],
            blocks: ['h4', 'h4', 'h2', 'single', 'h3', 'square', 'square', 'v3']
        }
    };
</script>